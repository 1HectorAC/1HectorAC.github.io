<!DOCTYPE html>
<html lang="en">

<head>
    <meta cahrset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="../css/default.css">
    <title>HAC Portfolio - CS460 HW6 Blog</title>
</head>

<body>
    <div class="title text-center">
        <h1><a href="../index.html">Programming Portfolio</a></h1>
        <h6><i>By Hector Acosta-Cervantes</i></h6>
    </div>
    <nav class="navbar navbar-expand-sm sticky-top navBarColor">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation"
                style="background-color:white">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-center" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item customNavItem">
                        <a class="nav-link" href="../index.html">Home</a>
                    </li>
                    <li class="nav-item customNavItem">
                        <a class="nav-link" href="../projects.html">Projects</a>
                    </li>
                    <li class="nav-item customNavItem">
                        <a class="nav-link" href="../about.html">About</a>
                    </li>
                </ul>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                    <li><a class="dropdown-item customNavItem" href="../index.html">Home</a></li>
                    <li><a class="dropdown-item customNavItem" href="../projects.html">Projects</a></li>
                    <li><a class="dropdown-item customNavItem" href="../about.html">About</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container text-center">
        <div class="whitePanel">
            <h2><b>Homework 6</b></h2>
            <h4><i>MVC Existing Database</i></h4>
        </div>
    </div>
    <div class="container">
        <div class="blackPanel">
            <h4>Assignment Summary</h4>
            <hr class="whiteLine" />
            <p class="paragraphText">The main objective is make a MVC web application using a pre-existing database. We
                will use as Code First with an Existing Database workflow. The program will involve looking up
                information about a person from a database from a search of their name. Assignment details can be found
                <a href="http://www.wou.edu/~morses/classes/cs46x/assignments/HW6_1819.html">here.</a>
            </p>
        </div>
        <div class="row">
            <div class="col-md-6 offset-md-3">
                <div class="blackPanel">
                    <h4>Table of Contents</h4>
                    <hr class="whiteLine" />
                    <ol>
                        <li><a href="#setupSection">Setup</a></li>
                        <li><a href="#linqSection">Linq Query</a></li>
                        <li><a href="#searchSection">Search Name</a></li>
                        <li><a href="#displayInfoSection">Display Information</a></li>
                        <ul>
                            <li><a href="#displayInfo1Section">Index.cshtml</a></li>
                            <li><a href="#displayInfo2Section">PersonDashboardVM.cs</a></li>
                            <li><a href="#displayInfo3Section">HomeController.cs</a></li>
                            <li><a href="#displayInfo4Section">Detail.cshtml</a></li>

                        </ul>
                        <li><a href="#resultSection">Results</a></li>
                    </ol>
                </div>
            </div>
        </div>
        <div class="blackPanelWithMorePadding">
            <h4 id="setupSection">1. Setup</h4>
            <hr class="whiteLine" />
            <p class="paragraphText">The first thing I needed to do was to download microsoft sql server management
                studio and sql express. I
                use them to restore the database that the assignment page has a link to download, which we will use for
                this assignment. Then I used Nuget to add microsoft.SqlServer.Types and entity framework. I also
                downloaded LinqPad5. Then I proceeded to restore the database.</p>
            <br /><br />
            <h4 id="linqSection">2. Linq Query</h4>
            <hr class="whiteLine" />
            <p class="paragraphText">I then began messing around with linq query searches with LinqPad5 before writing
                any code. Somethings
                that I really took note of is to notice when a search will give you a single object of something or a
                list of them and making sure the next command adheres to that. I eventually just looked up every query I
                was sure to use in the assignment. I will not show them here since they will just be shown in the code
                in later parts of the blog.</p>
            <br /><br />
            <h4 id="searchSection">3. Search Name</h4>
            <hr class="whiteLine" />
            <p class="paragraphText">This part is just how the name was being searched.</p>
            <div class="row">
                <div class="col-md-6">
                    <h5><i>HomeController.cs</i></h5>
                    <p class="paragraphText">So I need the logic to to take in a searched name and then returned at
                        least a list of names to
                        display to the index view. I pretty much just looked through the SearchName of the Person table
                        in the database and matched any that fit and then passed that list of people to the index view.
                    </p>

                </div>
                <div class="col-md-6">
                    <img class="formatedImage" src="images/hw6Images/HCIndex.PNG" alt=""><br /><br />
                </div>
            </div>
            <br /><br />
            <h4 id="displayInfoSection">4. Display Information</h4>
            <hr class="whiteLine" />
            <p class="paragraphText">To display information on the searched person I used POST and passed an id number.
                The page has access to
                the person ID number since I passed in a list of people in the previous part.</p>
            <div class="row">
                <div class="col-md-6">
                    <h5 id="displayInfo1Section"><i>4.a Index.cshtml</i></h5>
                    <p class="paragraphText">So this page pretty much just has the form setup. Not much else to it.</p>
                </div>
                <div class="col-md-6">
                    <img class="formatedImage" src="images/hw6Images/index.PNG" alt=""><br /><br />
                </div>
                <div class="col-md-12">
                    <h5 id="displayInfo2Section"><i>4.b PersonDashboardVM.cs</i></h5>
                    <p class="paragraphText">So before I get into the HomeController logic of calling a view with a
                        model contain all the
                        information need to display I needed to make a View Model. </p>
                    <p class="paragraphText">This View model just holds all the variables I will need to display so it
                        won't be necessary to
                        show the code. This is needed since I will need information from multiple models and you can
                        only pass one model to the view. Note that I also made another View Model containing purchase
                        Information for a profitable purchased Item. I needed a list of these in the PersonDashboardVM
                        since I need to store 10 of them.</p>
                </div>
                <div class="col-md-6">
                    <h5 id="displayInfo3Section"><i>4.c HomeController.cs</i></h5>
                    <p class="paragraphText">So the Detail Action to get the Detail view is where most of the query
                        searches and logic is. It
                        is a Post and takes in an ID. So we Initialize the a PersonDashboardVM object to store all the
                        information. We always store the personal information so that was done entered in first.</p>
                </div>
                <div class="col-md-6">
                    <img class="formatedImage" src="images/hw6Images/HCDetail1.PNG" alt=""><br /><br />
                </div>
                <div class="col-md-6">
                    <p class="paragraphText">The second half of the assignment has a few checks to see if it requires
                        more information to be
                        stored. Specifically I checked If certain IDs matched and whether custormer2 was null.</p>
                </div>
                <div class="col-md-6">
                    <img class="formatedImage" src="images/hw6Images/HCDetail2.PNG" alt=""><br /><br />
                </div>
                <div class="col-md-6">
                    <p class="paragraphText">A notable part was setting up the top 10 profitable items list. I pretty
                        much made a query search
                        to set up a list of the top 10 most profitable items and then looped though it to put them In my
                        model. I feel like this part could have been more efficient but it works.</p>
                </div>
                <div class="col-md-6">
                    <img class="formatedImage" src="images/hw6Images/HCDetail3.PNG" alt=""><br /><br />
                </div>
                <div class="col-md-12">
                    <h5 id="displayInfo4Section"><i>4.d Detail.cshtml</i></h5>
                    <p class="paragraphText">This part just displays all the parts of the PersonDashboardMV model that
                        It needs to show using
                        razor html and lambda functions. One thing to note is that I use one “if” check so see if the
                        companyName variable in the model is null, this is because to display the second half I need to
                        know if the second half was filled in so checking just the company name should be fine is
                        assuming the second half was in fact filled in.</p>
                </div>
            </div>
            <br /><br />
            <h4 id="resultSection">5. Results</h4>
            <hr class="whiteLine" />
            <p>Test Result Video (No Sound):</p>
            <iframe class="video" src="https://www.youtube.com/embed/Iz3a1izgO4M" frameborder="0"
                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe>
        </div>
    </div>
</body>

</html>